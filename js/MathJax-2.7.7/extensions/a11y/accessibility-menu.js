!function(i,e){var o,s,a=i.config.menuSettings,t=Function.prototype.bind?function(e,t){return e.bind(t)}:function(e,t){return function(){e.apply(t,arguments)}},u=Object.keys||function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t);return n},n=MathJax.Ajax.config.path,l=(n.a11y||(n.a11y=i.config.root+"/extensions/a11y"),e["accessibility-menu"]={version:"1.5.0",prefix:"",defaults:{},modules:[],MakeOption:function(e){return l.prefix+e},GetOption:function(e){return a[l.MakeOption(e)]},AddDefaults:function(){for(var e,t=u(l.defaults),n=0;e=t[n];n++){var i=l.MakeOption(e);void 0===a[i]&&(a[i]=l.defaults[e])}},AddMenu:function(){for(var e,t=Array(this.modules.length),n=0;e=this.modules[n];n++)t[n]=e.placeHolder;var i,a=s.FindId("Accessibility");a?(t.unshift(o.RULE()),a.submenu.items.push.apply(a.submenu.items,t)):((i=(s.FindId("Settings","Renderer")||{}).submenu)&&(t.unshift(o.RULE()),t.unshift(i.items.pop()),t.unshift(i.items.pop())),t.unshift("Accessibility"),a=o.SUBMENU.apply(o.SUBMENU,t),(i=s.IndexOfId("Locale"))?s.items.splice(i,0,a):s.items.push(o.RULE(),a))},Register:function(e){l.defaults[e.option]=!1,l.modules.push(e)},Startup:function(){o=MathJax.Menu.ITEM,s=MathJax.Menu.menu;for(var e,t=0;e=this.modules[t];t++)e.CreateMenu();this.AddMenu()},LoadExtensions:function(){for(var e,t=[],n=0;e=this.modules[n];n++)a[e.option]&&t.push(e.module);return t.length?i.Startup.loadArray(t):null}}),n=MathJax.Extension.ModuleLoader=MathJax.Object.Subclass({option:"",name:["",""],module:"",placeHolder:null,submenu:!1,extension:null,Init:function(e,t,n,i,a){this.option=e,this.name=[t.replace(/ /g,""),t],this.module=n,this.extension=i,this.submenu=a||!1},CreateMenu:function(){var e=t(this.Load,this);this.submenu?this.placeHolder=o.SUBMENU(this.name,o.CHECKBOX(["Activate","Activate"],l.MakeOption(this.option),{action:e}),o.RULE(),o.COMMAND(["OptionsWhenActive","(Options when Active)"],null,{disabled:!0})):this.placeHolder=o.CHECKBOX(this.name,l.MakeOption(this.option),{action:e})},Load:function(){i.Queue(["Require",MathJax.Ajax,this.module,["Enable",this]])},Enable:function(e){var t=MathJax.Extension[this.extension];t&&(t.Enable(!0,!0),MathJax.Menu.saveCookie())}});l.Register(n("collapsible","Collapsible Math","[a11y]/collapsible.js","collapsible")),l.Register(n("autocollapse","Auto Collapse","[a11y]/auto-collapse.js","auto-collapse")),l.Register(n("explorer","Explorer","[a11y]/explorer.js","explorer",!0)),l.AddDefaults(),i.Register.StartupHook("End Extensions",function(){i.Register.StartupHook("MathMenu Ready",function(){l.Startup(),i.Startup.signal.Post("Accessibility Menu Ready")},5)},5),MathJax.Hub.Register.StartupHook("End Cookie",function(){MathJax.Callback.Queue(["LoadExtensions",l],["loadComplete",MathJax.Ajax,"[a11y]/accessibility-menu.js"])})}(MathJax.Hub,MathJax.Extension);