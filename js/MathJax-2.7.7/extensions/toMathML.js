MathJax.Hub.Register.LoadHook("[MathJax]/jax/element/mml/jax.js",function(){var r=MathJax.ElementJax.mml,M=MathJax.Hub.config.menuSettings;r.mbase.Augment({toMathML:function(t){var a=this.inferred&&this.parent.inferRow,i=(null==t&&(t=""),this.type),h=this.toMathMLattributes();if("mspace"===i)return t+"<"+i+h+" />";for(var s=[],n=this.isToken?"":t+(a?"":"  "),e=0,o=this.data.length;e<o;e++)this.data[e]?s.push(this.data[e].toMathML(n)):this.isToken||this.isChars||s.push(n+"<mrow />");return this.isToken||this.isChars?t+"<"+i+h+">"+s.join("")+"</"+i+">":a?s.join("\n"):0===s.length||1===s.length&&""===s[0]?t+"<"+i+h+" />":t+"<"+i+h+">\n"+s.join("\n")+"\n"+t+"</"+i+">"},toMathMLattributes:function(){var t=("mstyle"===this.type?r.math.prototype:this).defaults,a=this.attrNames||r.copyAttributeNames,i=r.skipAttributes,h=r.copyAttributes,s=[];if("math"!==this.type||this.attr&&"xmlns"in this.attr||s.push('xmlns="http://www.w3.org/1998/Math/MathML"'),!this.attrNames)for(var n in t)i[n]||h[n]||!t.hasOwnProperty(n)||null!=this[n]&&this[n]!==t[n]&&this.Get(n,null,1)!==this[n]&&s.push(n+'="'+this.toMathMLattribute(this[n])+'"');for(var e=0,o=a.length;e<o;e++)1===h[a[e]]&&!t.hasOwnProperty(a[e])||null==(value=null==(value=(this.attr||{})[a[e]])?this[a[e]]:value)||s.push(a[e]+'="'+this.toMathMLquote(value)+'"');return this.toMathMLclass(s),s.length?" "+s.join(" "):""},toMathMLclass:function(t){var a,i=[];this.class&&i.push(this.class),this.isa(r.TeXAtom)&&M.texHints&&((a=["ORD","OP","BIN","REL","OPEN","CLOSE","PUNCT","INNER","VCENTER"][this.texClass])&&(i.push("MJX-TeXAtom-"+a),"OP"!==a||this.movablelimits||i.push("MJX-fixedlimits"))),this.mathvariant&&this.toMathMLvariants[this.mathvariant]&&i.push("MJX"+this.mathvariant),this.variantForm&&i.push("MJX-variant"),i.length&&t.unshift('class="'+this.toMathMLquote(i.join(" "))+'"')},toMathMLattribute:function(t){return"string"==typeof t&&t.replace(/ /g,"").match(/^(([-+])?(\d+(\.\d*)?|\.\d+))mu$/)?(RegExp.$2||"")+(1/18*RegExp.$3).toFixed(3).replace(/\.?0+$/,"")+"em":this.toMathMLvariants[t]||this.toMathMLquote(t)},toMathMLvariants:{"-tex-caligraphic":r.VARIANT.SCRIPT,"-tex-caligraphic-bold":r.VARIANT.BOLDSCRIPT,"-tex-oldstyle":r.VARIANT.NORMAL,"-tex-oldstyle-bold":r.VARIANT.BOLD,"-tex-mathit":r.VARIANT.ITALIC},toMathMLquote:function(t){for(var a=0,i=(t=String(t).split("")).length;a<i;a++){var h,s=t[a].charCodeAt(0);s<=55295||57344<=s?126<s||s<32&&10!==s&&13!==s&&9!==s?t[a]="&#x"+s.toString(16).toUpperCase()+";":(h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"}[t[a]])&&(t[a]=h):a+1<i?(h=t[a+1].charCodeAt(0)-56320+(s-55296<<10)+65536,t[a]="&#x"+h.toString(16).toUpperCase()+";",t[a+1]="",a++):t[a]=""}return t.join("")}}),r.math.Augment({toMathML:function(t,a){null==t&&(t=""),a&&a.originalText&&M.semantics&&(i=MathJax.InputJax[a.inputJax].annotationEncoding);for(var i,h=this.data[0]&&1<this.data[0].data.length,s=this.type,n=this.toMathMLattributes(),e=[],o=t+(i?"  "+(h?"  ":""):"")+"  ",r=0,u=this.data.length;r<u;r++)this.data[r]?e.push(this.data[r].toMathML(o)):e.push(o+"<mrow />");if(0===e.length||1===e.length&&""===e[0]){if(!i)return"<"+s+n+" />";e.push(o+"<mrow />")}return i&&(h&&(e.unshift(t+"    <mrow>"),e.push(t+"    </mrow>")),e.unshift(t+"  <semantics>"),h=a.originalText.replace(/[&<>]/g,function(t){return{">":"&gt;","<":"&lt;","&":"&amp;"}[t]}),e.push(t+'    <annotation encoding="'+this.toMathMLquote(i)+'">'+h+"</annotation>"),e.push(t+"  </semantics>")),t+"<"+s+n+">\n"+e.join("\n")+"\n"+t+"</"+s+">"}}),r.msubsup.Augment({toMathML:function(t){for(var a=this.type,i=(null==this.data[this.sup]&&(a="msub"),null==this.data[this.sub]&&(a="msup"),this.toMathMLattributes()),h=(delete this.data[0].inferred,[]),s=0,n=this.data.length;s<n;s++)this.data[s]&&h.push(this.data[s].toMathML(t+"  "));return t+"<"+a+i+">\n"+h.join("\n")+"\n"+t+"</"+a+">"}}),r.munderover.Augment({toMathML:function(t){for(var a=this.type,i=this.data[this.base],i=(i&&i.isa(r.TeXAtom)&&i.movablelimits&&!i.Get("displaystyle")?(type="msubsup",null==this.data[this.under]&&(a="msup"),null==this.data[this.over]&&(a="msub")):(null==this.data[this.under]&&(a="mover"),null==this.data[this.over]&&(a="munder")),this.toMathMLattributes()),h=(delete this.data[0].inferred,[]),s=0,n=this.data.length;s<n;s++)this.data[s]&&h.push(this.data[s].toMathML(t+"  "));return t+"<"+a+i+">\n"+h.join("\n")+"\n"+t+"</"+a+">"}}),r.TeXAtom.Augment({toMathML:function(t){var a=this.toMathMLattributes();return a||1!==this.data[0].data.length?t+"<mrow"+a+">\n"+this.data[0].toMathML(t+"  ")+"\n"+t+"</mrow>":t.substr(2)+this.data[0].toMathML(t)}}),r.chars.Augment({toMathML:function(t){return(t||"")+this.toMathMLquote(this.toString())}}),r.entity.Augment({toMathML:function(t){return(t||"")+"&"+this.toMathMLquote(this.data[0])+";\x3c!-- "+this.toString()+" --\x3e"}}),r.xml.Augment({toMathML:function(t){return(t||"")+this.toString()}}),MathJax.Hub.Register.StartupHook("TeX mathchoice Ready",function(){r.TeXmathchoice.Augment({toMathML:function(t){return this.Core().toMathML(t)}})}),MathJax.Hub.Startup.signal.Post("toMathML Ready")}),MathJax.Ajax.loadComplete("[MathJax]/extensions/toMathML.js");