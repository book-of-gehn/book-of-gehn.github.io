MathJax.Hub.Register.StartupHook("HTML-CSS Jax Ready",function(){var g=MathJax.ElementJax.mml,r=MathJax.OutputJax["HTML-CSS"],l=MathJax.Localization;g.mglyph.Augment({toHTML:function(t,a){var i,h,o,e,b=t,s=this.getValues("src","width","height","valign","alt");return t=this.HTMLcreateSpan(t),""===s.src?(h=this.Get("index"))&&(o=(a=this.HTMLgetVariant()).defaultFont)&&(o.noStyleChar=!0,o.testString=String.fromCharCode(h)+"ABCabc",r.Font.testFont(o)?this.HTMLhandleVariant(t,a,String.fromCharCode(h)):(""===s.alt&&(s.alt=l._(["MathML","BadMglyphFont"],"Bad font: %1",o.family)),i=g.Error(s.alt,{mathsize:"75%"}),this.Append(i),i.toHTML(t),this.data.pop(),t.bbox=i.HTMLspanElement().bbox)):(this.img||(this.img=g.mglyph.GLYPH[s.src]),this.img||(this.img=g.mglyph.GLYPH[s.src]={img:new Image,status:"pending"},(e=this.img.img).onload=MathJax.Callback(["HTMLimgLoaded",this]),e.onerror=MathJax.Callback(["HTMLimgError",this]),e.src=s.src,MathJax.Hub.RestartAfter(e.onload)),"OK"!==this.img.status?(i=g.Error(l._(["MathML","BadMglyph"],"Bad mglyph: %1",s.src),{mathsize:"75%"}),this.Append(i),i.toHTML(t),this.data.pop(),t.bbox=i.HTMLspanElement().bbox):(a=this.HTMLgetMu(t),e=r.addElement(t,"img",{isMathJax:!0,src:s.src,alt:s.alt,title:s.alt}),s.width&&(e.style.width=r.Em(r.length2em(s.width,a,this.img.img.width/r.em))),s.height&&(e.style.height=r.Em(r.length2em(s.height,a,this.img.img.height/r.em))),t.bbox.w=t.bbox.rw=e.offsetWidth/r.em,t.bbox.h=e.offsetHeight/r.em,s.valign&&(t.bbox.d=-r.length2em(s.valign,a,this.img.img.height/r.em),e.style.verticalAlign=r.Em(-t.bbox.d),t.bbox.h-=t.bbox.d))),b.bbox?t.bbox&&(b.bbox.w+=t.bbox.w,b.bbox.w>b.bbox.rw&&(b.bbox.rw=b.bbox.w),t.bbox.h>b.bbox.h&&(b.bbox.h=t.bbox.h),t.bbox.d>b.bbox.d&&(b.bbox.d=t.bbox.d)):b.bbox={w:t.bbox.w,h:t.bbox.h,d:t.bbox.d,rw:t.bbox.rw,lw:t.bbox.lw},this.HTMLhandleSpace(t),this.HTMLhandleColor(t),t},HTMLimgLoaded:function(t,a){this.img.status=(a="string"==typeof t?t:a)||"OK"},HTMLimgError:function(){this.img.img.onload("error")}},{GLYPH:{}}),MathJax.Hub.Startup.signal.Post("HTML-CSS mglyph Ready"),MathJax.Ajax.loadComplete(r.autoloadDir+"/mglyph.js")});