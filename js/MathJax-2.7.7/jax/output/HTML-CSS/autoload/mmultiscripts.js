MathJax.Hub.Register.StartupHook("HTML-CSS Jax Ready",function(){var t=MathJax.ElementJax.mml,L=MathJax.OutputJax["HTML-CSS"];t.mmultiscripts.Augment({toHTML:function(t,a,s){t=this.HTMLcreateSpan(t);for(var e=this.HTMLgetScale(),b=L.createStack(t),i=L.createBox(b),s=(this.data[this.base]?(o=this.data[this.base].toHTML(i),null!=s?this.data[this.base].HTMLstretchV(i,a,s):null!=a&&this.data[this.base].HTMLstretchH(i,a),L.Measured(o,i)):i.bbox=this.HTMLzeroBBox(),L.TeX.x_height*e),a=L.TeX.scriptspace*e*.75,o=this.HTMLgetScripts(b,a),b=o[0],h=o[1],x=o[2],o=o[3],r=e,p=1;p<this.data.length;p++)if(this.data[p]&&this.data[p].spanID){r=this.data[p].HTMLgetScale();break}var l,c,m=L.TeX.sup_drop*r,M=L.TeX.sub_drop*r,u=i.bbox.h-m,M=i.bbox.d+M,n=0,d=(i.bbox.ic&&(n=i.bbox.ic),!this.data[this.base]||"mi"!==this.data[this.base].type&&"mo"!==this.data[this.base].type||L.isChar(this.data[this.base].data.join(""))&&1===i.bbox.scale&&!this.data[this.base].Get("largeop")&&(u=M=0),this.getValues("subscriptshift","superscriptshift")),T=this.HTMLgetMu(t),T=(d.subscriptshift=""===d.subscriptshift?0:L.length2em(d.subscriptshift,T),d.superscriptshift=""===d.superscriptshift?0:L.length2em(d.superscriptshift,T),0),H=(x?T=x.bbox.w+n:o&&(T=o.bbox.w-n),L.placeBox(i,T=T<0?0:T,0),h||o?b||x?(M=Math.max(M,L.TeX.sub2*e),l=L.TeX.rule_thickness*e,c=(b||x).bbox.h,H=(h||o).bbox.d,x&&(c=Math.max(c,x.bbox.h)),u-(H=o?Math.max(H,o.bbox.d):H)-(c-M)<3*l&&(M=3*l-u+H+c,0<(m=.8*s-(u-H))&&(u+=m,M-=m)),u=Math.max(u,d.superscriptshift),M=Math.max(M,d.subscriptshift),h&&L.placeBox(h,T+i.bbox.w+a,u),o&&L.placeBox(o,T+n-o.bbox.w,u),b&&L.placeBox(b,T+i.bbox.w+a-n,-M),x&&L.placeBox(x,T-x.bbox.w,-M)):(l=this.getValues("displaystyle","texprimestyle"),c=L.TeX[l.displaystyle?"sup1":l.texprimestyle?"sup3":"sup2"],u=Math.max(u,c*e,d.superscriptshift),h&&(u=Math.max(u,h.bbox.d+.25*s)),o&&(u=Math.max(u,o.bbox.d+.25*s)),h&&L.placeBox(h,T+i.bbox.w+a,u),o&&L.placeBox(o,0,u)):(M=Math.max(M,L.TeX.sub1*e,d.subscriptshift),b&&(M=Math.max(M,b.bbox.h-.8*s)),x&&(M=Math.max(M,x.bbox.h-.8*s)),b&&L.placeBox(b,T+i.bbox.w+a-n,-M),x&&L.placeBox(x,0,-M)),this.HTMLhandleSpace(t),this.HTMLhandleColor(t),t.bbox);return H.dx=T,H.s=a,H.u=u,H.v=M,H.delta=n,H.px=T+i.bbox.w,t},HTMLgetScripts:function(t,a){for(var s=[],e=1,b=this.data.length,i=0,o=0;o<4;o+=2){for(;e<b&&"mprescripts"!==(this.data[e]||{}).type;){for(var h=[null,null,null,null],x=o;x<o+2;x++)this.data[e]&&"none"!==this.data[e].type&&"mprescripts"!==this.data[e].type?(s[x]||(s[x]=L.createBox(t),s[x].bbox=this.HTMLemptyBBox({}),i&&(L.createBlank(s[x],i),s[x].bbox.w=s[x].bbox.rw=i)),h[x]=this.data[e].toHTML(s[x])):h[x]=MathJax.HTML.Element("span",{bbox:this.HTMLemptyBBox({})}),"mprescripts"!==(this.data[e]||{}).type&&e++;var r,p=2===o,l=s[o],c=s[o+1];l&&c?(0<(r=h[o+1].bbox.w-h[o].bbox.w)?p?(this.HTMLmoveColor(h[o],r,1),s[o].w+=r):L.createBlank(l,r):r<0&&(p?(this.HTMLmoveColor(h[o+1],-r,-1),s[o+1].w+=-r):L.createBlank(c,-r)),this.HTMLcombineBBoxes(h[o],l.bbox),this.HTMLcombineBBoxes(h[o+1],c.bbox),0<r?(l.bbox.w=c.bbox.w,l.bbox.rw=Math.max(l.bbox.w,l.bbox.rw)):r<0&&(c.bbox.w=l.bbox.w,c.bbox.rw=Math.max(c.bbox.w,c.bbox.rw))):(l&&this.HTMLcombineBBoxes(h[o],l.bbox),c&&this.HTMLcombineBBoxes(h[o+1],c.bbox)),l?i=l.bbox.w:c&&(i=c.bbox.w)}e++,i=0}for(x=0;x<4;x++)s[x]&&(s[x].bbox.w+=a,s[x].bbox.rw=Math.max(s[x].bbox.w,s[x].bbox.rw),s[x].bbox.name=["sub","sup","presub","presup"][x],this.HTMLcleanBBox(s[x].bbox));return s},HTMLmoveColor:function(t,a,s){a/=t.scale||1,t.style.paddingLeft=L.Em(a),t=t.previousSibling;t&&(t.id||"").match(/^MathJax-Color-/)&&(t.style.marginLeft=L.Em(a+parseFloat(t.style.marginLeft)),t.style.marginRight=L.Em(s*(a-parseFloat(t.style.marginRight))))},HTMLstretchH:t.mbase.HTMLstretchH,HTMLstretchV:t.mbase.HTMLstretchV}),MathJax.Hub.Startup.signal.Post("HTML-CSS mmultiscripts Ready"),MathJax.Ajax.loadComplete(L.autoloadDir+"/mmultiscripts.js")});