MathJax.Hub.Register.StartupHook("HTML-CSS Jax Ready",function(){var L=MathJax.ElementJax.mml,b=MathJax.OutputJax["HTML-CSS"],f=L.mo().With({HTMLspanElement:function(){return{bbox:{w:0},style:{}}}}),c={newline:0,nobreak:1e6,goodbreak:[-200],badbreak:[200],auto:[0],maxwidth:1.33,toobig:800,nestfactor:400,spacefactor:-100,spaceoffset:2,spacelimit:1,fence:500,close:500},T={linebreakstyle:"after"};L.mbase.Augment({HTMLlinebreakPenalty:c,HTMLmultiline:function(e){for(var t=this;t.inferred||t.parent&&"mrow"===t.parent.type&&t.isEmbellished();)t=t.parent;for(var o="math"===t.type&&"block"===t.Get("display")||"mtd"===t.type,i=(t.isMultiline=!0,this.getValues("linebreak","linebreakstyle","lineleading","linebreakmultchar","indentalign","indentshift","indentalignfirst","indentshiftfirst","indentalignlast","indentshiftlast")),n=(i.linebreakstyle===L.LINEBREAKSTYLE.INFIXLINEBREAKSTYLE&&(i.linebreakstyle=this.Get("infixlinebreakstyle")),i.lineleading=b.length2em(i.lineleading,1,.5),this.HTMLremoveColor(e),b.createStack(e)),a=(this.HTMLgetScale(),{n:0,Y:0,scale:this.scale||1,isTop:o,values:{},VALUES:i}),s=this.HTMLgetAlign(a,{}),l=this.HTMLgetShift(a,{},s),h=[],d={index:[],penalty:c.nobreak,w:0,W:l,shift:l,scanW:l,nest:0},r=!1;this.HTMLbetterBreak(d,a,!0)&&(d.scanW>=b.linebreakWidth||d.penalty===c.newline);)this.HTMLaddLine(n,h,d.index,a,d.values,r),h=d.index.slice(0),r=!0,s=this.HTMLgetAlign(a,d.values),l=this.HTMLgetShift(a,d.values,s),s===L.INDENTALIGN.CENTER&&(l=0),d.W=d.shift=d.scanW=l,d.penalty=c.nobreak;return a.isLast=!0,this.HTMLaddLine(n,h,[],a,T,r),o&&(n.style.width="100%","math"===t.type&&(e.bbox.width="100%")),this.HTMLhandleSpace(e),this.HTMLhandleColor(e),e.bbox.isMultiline=!0,e},HTMLbetterBreak:function(e,t,i){if(this.isToken)return!1;if(this.isEmbellished())return(e.embellished=this).CoreMO().HTMLbetterBreak(e,t);if(this.linebreakContainer)return!1;var n,a,s,l=e.index.slice(0),h=e.index.shift(),o=this.data.length,d=0<e.index.length,r=!1;for(null==h&&(h=-1),d||(h++,e.W+=e.w,e.w=0),s=e.scanW=e.W,e.nest++;h<o&&(e.scanW<c.maxwidth*b.linebreakWidth||0===e.w);){if(this.data[h]){if(this.data[h].HTMLbetterBreak(e,t)&&(r=!0,l=[h].concat(e.index),n=e.W,a=e.w,e.penalty===c.newline))return e.index=l,e.nest&&e.nest--,!0;s=d?e.scanW:this.HTMLaddWidth(h,e,s)}h++,d=!(e.index=[])}return i&&r&&(f.parent=this.parent,f.inherit=this.inherit,f.HTMLbetterBreak(e,t)&&(r=!1,l=e.index)),e.nest&&e.nest--,e.index=l,r&&(e.W=n,e.w=a),r},HTMLaddWidth:function(e,t,i){return this.data[e]&&(i+=(e=this.data[e].HTMLspanElement()).bbox.w,e.style.paddingLeft&&(i+=b.unEm(e.style.paddingLeft)),e.style.paddingRight&&(i+=b.unEm(e.style.paddingRight)),t.W=t.scanW=i,t.w=0),i},HTMLaddLine:function(e,t,i,n,a,s){line=b.createBox(e),line.bbox=this.HTMLemptyBBox({}),n.first=s,n.last=!0,this.HTMLmoveLine(t,i,line,n,a),this.HTMLcleanBBox(line.bbox);e=this.HTMLgetAlign(n,a),s=this.HTMLgetShift(n,a,e);0<n.n&&(t=b.FONTDATA.baselineskip*n.scale,i=(null==n.values.lineleading?n.VALUES:n.values).lineleading*n.scale,n.Y-=Math.max(t,n.d+line.bbox.h+i)),b.alignBox(line,e,n.Y,s),n.d=line.bbox.d,n.values=a,n.n++},HTMLgetAlign:function(e,t){var i=e.values,n=e.VALUES,t=0===e.n?t.indentalignfirst||i.indentalignfirst||n.indentalignfirst:e.isLast?i.indentalignlast||n.indentalignlast:i.indentalign||n.indentalign;return t=(t=t===L.INDENTALIGN.INDENTALIGN?i.indentalign||n.indentalign:t)===L.INDENTALIGN.AUTO?e.isTop?this.displayAlign:L.INDENTALIGN.LEFT:t},HTMLgetShift:function(e,t,i){var n=e.values,a=e.VALUES,t=0===e.n?t.indentshiftfirst||n.indentshiftfirst||a.indentshiftfirst:e.isLast?n.indentshiftlast||a.indentshiftlast:n.indentshift||a.indentshift;return t===L.INDENTSHIFT.INDENTSHIFT&&(t=n.indentshift||a.indentshift),t=b.length2em(t="auto"===t||""===t?"0":t,1,b.cwidth),e.isTop&&"0"!==this.displayIndent&&(n=b.length2em(this.displayIndent,1,b.cwidth),t+=i===L.INDENTALIGN.RIGHT?-n:n),t},HTMLmoveLine:function(e,t,i,n,a){var s=e[0],l=t[0];if((s=null==s?-1:s)===(l=null==l?this.data.length-1:l)&&1<e.length)this.data[s].HTMLmoveSlice(e.slice(1),t.slice(1),i,n,a,"paddingLeft");else{var h=n.last;for(n.last=!1;s<l;)this.data[s]&&(e.length<=1?this.data[s].HTMLmoveSpan(i,n,a):this.data[s].HTMLmoveSlice(e.slice(1),[],i,n,a,"paddingLeft")),s++,n.first=!1,e=[];n.last=h,this.data[s]&&(t.length<=1?this.data[s].HTMLmoveSpan(i,n,a):this.data[s].HTMLmoveSlice([],t.slice(1),i,n,a,"paddingRight"))}},HTMLmoveSlice:function(e,t,i,n,a,s){this.HTMLremoveColor();var l=this.HTMLcreateSliceSpan(i);if(this.HTMLmoveLine(e,t,l,n,a),l.style[s]="",this.HTMLcombineBBoxes(l,i.bbox),this.HTMLcleanBBox(l.bbox),0===t.length)for(var h=i=this.HTMLspanElement(),d=((i=this.href?i.parentNode:i).parentNode.removeChild(i),i.nextMathJaxSpan.id=h.id,0);h=h.nextMathJaxSpan;){"a"===h.nodeName.toLowerCase()&&(h=h.firstChild);var r=this.HTMLhandleColor(h);r&&(r.id+="-MathJax-Continue-"+d,d++)}return l},HTMLcreateSliceSpan:function(e){for(var t=this.HTMLspanElement(),i=0,n=t=this.href?t.parentNode:t;n.nextMathJaxSpan;)n=n.nextMathJaxSpan,i++;t=t.cloneNode(!1);return(n.nextMathJaxSpan=t).nextMathJaxSpan=null,t.id+="-MathJax-Continue-"+i,t.bbox=this.HTMLemptyBBox({}),e.appendChild(t)},HTMLmoveSpan:function(e,t,i){var n;(!t.first&&!t.last||t.first&&t.values.linebreakstyle===L.LINEBREAKSTYLE.BEFORE||t.last&&i.linebreakstyle===L.LINEBREAKSTYLE.AFTER)&&((i=document.getElementById("MathJax-Color-"+this.spanID+b.idPostfix))&&e.appendChild(i),n=this.HTMLspanElement(),this.href&&(n=n.parentNode),e.appendChild(n),t.last&&(n.style.paddingRight=""),(t.first||t.nextIsFirst)&&(n.style.paddingLeft="",i&&(this.HTMLremoveColor(n),this.HTMLhandleColor(n))),t.first&&0===n.bbox.w?t.nextIsFirst=!0:delete t.nextIsFirst,this.HTMLcombineBBoxes(this,e.bbox))}}),L.mfenced.Augment({HTMLbetterBreak:function(e,o){var t,i,n,a=e.index.slice(0),s=e.index.shift(),l=this.data.length,h=0<e.index.length,d=!1;if(null==s&&(s=-1),h||(s++,e.W+=e.w,e.w=0),n=e.scanW=e.W,e.nest++,!this.dataI){this.dataI=[],this.data.open&&this.dataI.push("open"),l&&this.dataI.push(0);for(var r=1;r<l;r++)this.data["sep"+r]&&this.dataI.push("sep"+r),this.dataI.push(r);this.data.close&&this.dataI.push("close")}for(l=this.dataI.length;s<l&&(e.scanW<c.maxwidth*b.linebreakWidth||0===e.w);){var L=this.dataI[s];if(this.data[L]){if(this.data[L].HTMLbetterBreak(e,o)&&(d=!0,a=[s].concat(e.index),t=e.W,i=e.w,e.penalty===c.newline))return e.index=a,e.nest&&e.nest--,!0;n=h?e.scanW:this.HTMLaddWidth(s,e,n)}s++,h=!(e.index=[])}return e.nest&&e.nest--,e.index=a,d&&(e.W=t,e.w=i),d},HTMLmoveLine:function(e,t,i,n,a){var s=e[0],l=t[0];if((s=null==s?-1:s)===(l=null==l?this.dataI.length-1:l)&&1<e.length)this.data[this.dataI[s]].HTMLmoveSlice(e.slice(1),t.slice(1),i,n,a,"paddingLeft");else{for(var h=n.last,d=(n.last=!1,this.dataI[s]);s<l;)this.data[d]&&(e.length<=1?this.data[d].HTMLmoveSpan(i,n,a):this.data[d].HTMLmoveSlice(e.slice(1),[],i,n,a,"paddingLeft")),d=this.dataI[++s],n.first=!1,e=[];n.last=h,this.data[d]&&(t.length<=1?this.data[d].HTMLmoveSpan(i,n,a):this.data[d].HTMLmoveSlice([],t.slice(1),i,n,a,"paddingRight"))}}}),L.msubsup.Augment({HTMLbetterBreak:function(e,t){if(!this.data[this.base])return!1;var i,n,a,s=e.index.slice(0),l=e.index.shift(),h=0<e.index.length,d=!1;return h||(e.W+=e.w,e.w=0),a=e.scanW=e.W,null==l&&(this.HTMLbaseW=this.data[this.base].HTMLspanElement().bbox.w,this.HTMLdw=this.HTMLspanElement().bbox.w-this.HTMLbaseW),this.data[this.base].HTMLbetterBreak(e,t)&&(d=!0,s=[this.base].concat(e.index),i=e.W,n=e.w,e.penalty===c.newline&&(d=h=!0)),h||this.HTMLaddWidth(this.base,e,a),e.scanW+=this.HTMLdw,e.W=e.scanW,e.index=[],d&&(e.W=i,e.w=n,e.index=s),d},HTMLmoveLine:function(e,t,i,n,a){if(this.data[this.base]&&(1<e.length?this.data[this.base].HTMLmoveSlice(e.slice(1),t.slice(1),i,n,a,"paddingLeft"):t.length<=1?this.data[this.base].HTMLmoveSpan(i,n,a):this.data[this.base].HTMLmoveSlice([],t.slice(1),i,n,a,"paddingRight")),0===t.length){e=this.data[this.sup]||this.data[this.sub];if(e&&this.HTMLnotEmpty(e)){var s=e.HTMLspanElement().parentNode,n=(s=e.href?s.parentNode:s).parentNode;for(this.data[this.base]&&n.removeChild(n.firstChild),s=n.firstChild;s;s=s.nextSibling)s.style.left=b.Em(b.unEm(s.style.left)-this.HTMLbaseW);n.bbox.w-=this.HTMLbaseW,n.style.width=b.Em(n.bbox.w),this.HTMLcombineBBoxes(n,i.bbox),i.appendChild(n)}}}}),L.mmultiscripts.Augment({HTMLbetterBreak:function(e,t){if(!this.data[this.base])return!1;var i=e.index.slice(0);e.index.shift();var n,a,s=0<e.index.length,l=!1,h=(s||(e.W+=e.w,e.w=0),e.scanW=e.W,this.HTMLspanElement().bbox),d=this.data[this.base].HTMLspanElement().bbox,d=h.w-d.w;return e.scanW+=h.dx,h=e.scanW,this.data[this.base].HTMLbetterBreak(e,t)&&(l=!0,i=[this.base].concat(e.index),n=e.W,a=e.w,e.penalty===c.newline&&(l=s=!0)),s||this.HTMLaddWidth(this.base,e,h),e.scanW+=d,e.W=e.scanW,e.index=[],l&&(e.W=n,e.w=a,e.index=i),l},HTMLmoveLine:function(e,t,i,n,a){for(var s,l=this.HTMLspanElement(),h=l.bbox,l=l.firstChild,d={},r=(l=b.msiePaddingWidthBug?l.nextSibling:l).firstChild;r;)r.bbox&&r.bbox.name&&(d[r.bbox.name]=r),r=r.nextSibling;if(e.length<1&&(d.presub||d.presup)&&(s=b.createStack(i),d.presup&&(b.addBox(s,d.presup),b.placeBox(d.presup,h.dx-d.presup.bbox.w,h.u)),d.presub&&(b.addBox(s,d.presub),b.placeBox(d.presub,h.dx+h.delta-d.presub.bbox.w,-h.v)),this.HTMLcombineBBoxes(s,i.bbox),i.appendChild(s),s.style.width=b.Em(h.dx)),this.data[this.base]&&(1<e.length?this.data[this.base].HTMLmoveSlice(e.slice(1),t.slice(1),i,n,a,"paddingLeft"):t.length<=1?this.data[this.base].HTMLmoveSpan(i,n,a):this.data[this.base].HTMLmoveSlice([],t.slice(1),i,n,a,"paddingRight")),0===t.length){for(this.data[this.base]&&l.removeChild(l.firstChild),r=l.firstChild;r;r=r.nextSibling)r.style.left=b.Em(b.unEm(r.style.left)-h.px);l.bbox.w-=h.px,l.style.width=b.Em(l.bbox.w),this.HTMLcombineBBoxes(l,i.bbox),i.appendChild(l)}}}),L.mo.Augment({HTMLbetterBreak:function(e,t){if(e.values&&e.values.id===this.spanID)return!1;var i=this.getValues("linebreak","linebreakstyle","lineleading","linebreakmultchar","indentalign","indentshift","indentalignfirst","indentshiftfirst","indentalignlast","indentshiftlast","texClass","fence"),n=(i.linebreakstyle===L.LINEBREAKSTYLE.INFIXLINEBREAKSTYLE&&(i.linebreakstyle=this.Get("infixlinebreakstyle")),i.texClass===L.TEXCLASS.OPEN&&e.nest++,i.texClass===L.TEXCLASS.CLOSE&&e.nest&&e.nest--,e.scanW),a=e.embellished||this,a=(delete e.embellished,a.HTMLspanElement()),s=a.bbox.w;if(a.style.paddingLeft&&(s+=b.unEm(a.style.paddingLeft)),i.linebreakstyle===L.LINEBREAKSTYLE.AFTER&&(n+=s,s=0),n-e.shift==0&&i.linebreak!==L.LINEBREAK.NEWLINE)return!1;var a=b.linebreakWidth-n,l=(0!==t.n||i.indentshiftfirst===t.VALUES.indentshiftfirst&&i.indentalignfirst===t.VALUES.indentalignfirst||(l=this.HTMLgetAlign(t,i),l=this.HTMLgetShift(t,i,l),a+=e.shift-l),Math.floor(a/b.linebreakWidth*1e3)),h=(l<0&&(l=c.toobig-3*l),i.fence&&(l+=c.fence),(i.linebreakstyle===L.LINEBREAKSTYLE.AFTER&&i.texClass===L.TEXCLASS.OPEN||i.texClass===L.TEXCLASS.CLOSE)&&(l+=c.close),l+=e.nest*c.nestfactor,c[i.linebreak||L.LINEBREAK.AUTO]||0);return MathJax.Object.isArray(h)?l=Math.max(1,l+h[0]*e.nest):(h||0<=a)&&(l=h*e.nest),!(l>=e.penalty)&&(e.penalty=l,e.values=i,e.W=n,e.w=s,i.lineleading=b.length2em(i.lineleading,1,t.VALUES.lineleading),i.id=this.spanID,!0)}}),L.mspace.Augment({HTMLbetterBreak:function(e,t){if(e.values&&e.values.id===this.spanID)return!1;var i=this.getValues("linebreak"),n=i.linebreak,a=(n&&!this.hasDimAttr()||(n=L.LINEBREAK.AUTO),e.scanW),s=this.HTMLspanElement(),l=s.bbox.w;if(s.style.paddingLeft&&(l+=b.unEm(s.style.paddingLeft)),a-e.shift==0)return!1;var s=b.linebreakWidth-a,h=Math.floor(s/b.linebreakWidth*1e3),d=(h<0&&(h=c.toobig-3*h),h+=e.nest*c.nestfactor,c[n]||0);return n===L.LINEBREAK.AUTO&&c.spacelimit<=l&&!this.mathbackground&&!this.background&&(d=[(l+c.spaceoffset)*c.spacefactor]),MathJax.Object.isArray(d)?h=Math.max(1,h+d[0]*e.nest):(d||0<=s)&&(h=d*e.nest),!(h>=e.penalty)&&(e.penalty=h,e.values=i,e.W=a,e.w=l,i.lineleading=t.VALUES.lineleading,i.linebreakstyle="before",i.id=this.spanID,!0)}}),MathJax.Hub.Register.StartupHook("TeX mathchoice Ready",function(){L.TeXmathchoice.Augment({HTMLbetterBreak:function(e,t){return this.Core().HTMLbetterBreak(e,t)},HTMLmoveLine:function(e,t,i,n,a){return this.Core().HTMLmoveSlice(e,t,i,n,a)}})}),L.maction.Augment({HTMLbetterBreak:function(e,t){return this.Core().HTMLbetterBreak(e,t)},HTMLmoveLine:function(e,t,i,n,a){return this.Core().HTMLmoveSlice(e,t,i,n,a)},HTMLmoveSlice:function(e,t,i,n,a,s){var l=document.getElementById("MathJax-HitBox-"+this.spanID+b.idPostfix),h=(l&&l.parentNode.removeChild(l),this.SUPER(arguments).HTMLmoveSlice.apply(this,arguments));if(0===t.length){i=this.HTMLspanElement();for(var d=0;i;)l=this.HTMLhandleHitBox(i,"-Continue-"+d),i=i.nextMathJaxSpan,d++}return h}}),L.semantics.Augment({HTMLbetterBreak:function(e,t){return!!this.data[0]&&this.data[0].HTMLbetterBreak(e,t)},HTMLmoveLine:function(e,t,i,n,a){return this.data[0]?this.data[0].HTMLmoveSlice(e,t,i,n,a):null}}),MathJax.Hub.Startup.signal.Post("HTML-CSS multiline Ready"),MathJax.Ajax.loadComplete(b.autoloadDir+"/multiline.js")});