MathJax.Hub.Register.StartupHook("SVG Jax Ready",function(){var s=MathJax.ElementJax.mml,m=MathJax.OutputJax.SVG,l=m.BBOX,r=MathJax.Localization;l.MGLYPH=l.Subclass({type:"image",removeable:!1,Init:function(t,a,g,i,h,e){null==e&&(e={});var s=1e3*t.width/m.em,l=1e3*t.height/m.em,r=s,n=l,o=0;""!==a&&(s=m.length2em(a,h,r),l=r?s/r*n:0),""!==g&&(l=m.length2em(g,h,n),""===a&&(s=n?l/n*r:0)),""!==i&&i.match(/\d/)&&(o=m.length2em(i,h),e.y=-o),e.height=Math.floor(l),e.width=Math.floor(s),e.transform="translate(0,"+l+") matrix(1 0 0 -1 0 0)",e.preserveAspectRatio="none",this.SUPER(arguments).Init.call(this,e),this.element.setAttributeNS("http://www.w3.org/1999/xlink","href",t.SRC),this.w=this.r=s,this.h=this.H=l+o,this.d=this.D=-o,this.l=0}}),s.mglyph.Augment({toSVG:function(t,a){this.SVGgetStyles();var i,h=this.SVG(),e=(this.SVGhandleSpace(h),this.getValues("src","width","height","valign","alt"));return""===e.src?(e=this.getValues("index","fontfamily")).index&&(a=a||this.SVGgetScale(),i={},e.fontfamily&&(i["font-family"]=e.fontfamily),h.Add(l.TEXT(a,String.fromCharCode(e.index),i))):(this.img||(this.img=s.mglyph.GLYPH[e.src]),this.img||(this.img=s.mglyph.GLYPH[e.src]={img:new Image,status:"pending"},(a=this.img.img).onload=MathJax.Callback(["SVGimgLoaded",this]),a.onerror=MathJax.Callback(["SVGimgError",this]),a.src=a.SRC=e.src,MathJax.Hub.RestartAfter(a.onload)),"OK"!==this.img.status?(i=s.Error(r._(["MathML","BadMglyph"],"Bad mglyph: %1",e.src),{mathsize:"75%"}),this.Append(i),h=i.toSVG(),this.data.pop()):(a=this.SVGgetMu(h),h.Add(l.MGLYPH(this.img.img,e.width,e.height,e.valign,a,{"aria-label":e.alt})))),h.Clean(),this.SVGhandleColor(h),this.SVGsaveData(h),h},SVGimgLoaded:function(t,a){this.img.status=(a="string"==typeof t?t:a)||"OK"},SVGimgError:function(){this.img.img.onload("error")}},{GLYPH:{}}),MathJax.Hub.Startup.signal.Post("SVG mglyph Ready"),MathJax.Ajax.loadComplete(m.autoloadDir+"/mglyph.js")});