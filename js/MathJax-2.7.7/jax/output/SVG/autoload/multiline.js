MathJax.Hub.Register.StartupHook("SVG Jax Ready",function(){var S=MathJax.ElementJax.mml,c=MathJax.OutputJax.SVG,d=c.BBOX,o=S.mo().With({SVGdata:{w:0,x:0}}),f={newline:0,nobreak:1e6,goodbreak:[-200],badbreak:[200],auto:[0],maxwidth:1.33,toobig:800,nestfactor:400,spacefactor:-100,spaceoffset:2,spacelimit:1,fence:500,close:500},u={linebreakstyle:"after"};S.mrow.Augment({SVGmultiline:function(t){for(var e=this;e.inferred||e.parent&&"mrow"===e.parent.type&&e.isEmbellished();)e=e.parent;for(var i="math"===e.type&&"block"===e.Get("display")||"mtd"===e.type,a=(e.isMultiline=!0,this.getValues("linebreak","linebreakstyle","lineleading","linebreakmultchar","indentalign","indentshift","indentalignfirst","indentshiftfirst","indentalignlast","indentshiftlast")),n=(a.linebreakstyle===S.LINEBREAKSTYLE.INFIXLINEBREAKSTYLE&&(a.linebreakstyle=this.Get("infixlinebreakstyle")),a.lineleading=c.length2em(a.lineleading,1,.5),t=this.SVG(),i&&"mtd"!==e.type&&(c.linebreakWidth<c.BIGDIMEN?t.w=c.linebreakWidth:t.w=c.cwidth),{n:0,Y:0,scale:this.scale||1,isTop:i,values:{},VALUES:a}),s=this.SVGgetAlign(n,{}),l=this.SVGgetShift(n,{},s),h=[],d={index:[],penalty:f.nobreak,w:0,W:l,shift:l,scanW:l,nest:0},r=!1;this.SVGbetterBreak(d,n,!0)&&(d.scanW>=c.linebreakWidth||d.penalty===f.newline);)this.SVGaddLine(t,h,d.index,n,d.values,r),h=d.index.slice(0),r=!0,s=this.SVGgetAlign(n,d.values),l=this.SVGgetShift(n,d.values,s),s===S.INDENTALIGN.CENTER&&(l=0),d.W=d.shift=d.scanW=l,d.penalty=f.nobreak;return n.isLast=!0,this.SVGaddLine(t,h,[],n,u,r),this.SVGhandleSpace(t),this.SVGhandleColor(t),t.isMultiline=!0,this.SVGsaveData(t),t}}),S.mbase.Augment({SVGlinebreakPenalty:f,SVGbetterBreak:function(t,e,i){if(this.isToken)return!1;if(this.isEmbellished())return(t.embellished=this).CoreMO().SVGbetterBreak(t,e);if(this.linebreakContainer)return!1;var a,n,s=t.index.slice(0),l=t.index.shift(),h=this.data.length,d=0<t.index.length,r=!1;for(null==l&&(l=-1),d||(l++,t.W+=t.w,t.w=0),n=t.scanW=t.W,t.nest++;l<h&&(t.scanW<f.maxwidth*c.linebreakWidth||0===t.w);){if(this.data[l]){if(this.data[l].SVGbetterBreak(t,e)&&(r=!0,s=[l].concat(t.index),a=t.W,t.w,t.penalty===f.newline))return t.index=s,t.nest&&t.nest--,!0;n=d?t.scanW:this.SVGaddWidth(l,t,n)}l++,d=!(t.index=[])}return i&&r&&(o.parent=this.parent,o.inherit=this.inherit,o.SVGbetterBreak(t,e)&&(r=!1,s=t.index)),t.nest&&t.nest--,t.index=s,r&&(t.W=a),r},SVGaddWidth:function(t,e,i){return this.data[t]&&(i+=(t=this.data[t].SVGdata).w+t.x,t.X&&(i+=t.X),e.W=e.scanW=i,e.w=0),i},SVGaddLine:function(t,e,i,a,n,s){var l,h=d(),s=(a.first=s,a.last=!0,this.SVGmoveLine(e,i,h,a,n),h.Clean(),this.SVGgetAlign(a,n)),e=this.SVGgetShift(a,n,s);0<a.n&&(i=c.FONTDATA.baselineskip*a.scale,l=(null==a.values.lineleading?a.VALUES:a.values).lineleading*a.scale,a.Y-=Math.max(i,a.d+h.h+l)),h.w+e>t.w&&(t.w=h.w+e),t.Align(h,s,0,a.Y,e),a.d=h.d,a.values=n,a.n++},SVGgetAlign:function(t,e){var i=t.values,a=t.VALUES,e=0===t.n?e.indentalignfirst||i.indentalignfirst||a.indentalignfirst:t.isLast?i.indentalignlast||a.indentalignlast:i.indentalign||a.indentalign;return e=(e=e===S.INDENTALIGN.INDENTALIGN?i.indentalign||a.indentalign:e)===S.INDENTALIGN.AUTO?t.isTop?this.displayAlign:S.INDENTALIGN.LEFT:e},SVGgetShift:function(t,e,i){var a=t.values,n=t.VALUES,e=0===t.n?e.indentshiftfirst||a.indentshiftfirst||n.indentshiftfirst:t.isLast?a.indentshiftlast||n.indentshiftlast:a.indentshift||n.indentshift;return e===S.INDENTSHIFT.INDENTSHIFT&&(e=a.indentshift||n.indentshift),e=c.length2em(e="auto"!==e&&""!==e?e:"0",1,c.cwidth),t.isTop&&"0"!==this.displayIndent&&(a=c.length2em(this.displayIndent,1,c.cwidth),e+=i===S.INDENTALIGN.RIGHT?-a:a),e},SVGmoveLine:function(t,e,i,a,n){var s=t[0],l=e[0];if((s=null==s?-1:s)===(l=null==l?this.data.length-1:l)&&1<t.length)this.data[s].SVGmoveSlice(t.slice(1),e.slice(1),i,a,n,"paddingLeft");else{var h=a.last;for(a.last=!1;s<l;)this.data[s]&&(t.length<=1?this.data[s].SVGmove(i,a,n):this.data[s].SVGmoveSlice(t.slice(1),[],i,a,n,"paddingLeft")),s++,a.first=!1,t=[];a.last=h,this.data[s]&&(e.length<=1?this.data[s].SVGmove(i,a,n):this.data[s].SVGmoveSlice([],e.slice(1),i,a,n,"paddingRight"))}},SVGmoveSlice:function(t,e,i,a,n,s){var l=d();return this.SVGmoveLine(t,e,l,a,n),l.Clean(),this.href&&this.SVGaddHref(l),this.SVGhandleColor(l),0==t.length&&this.SVGhandleSpace(l),i.Add(l,i.w,0,!0),l},SVGmove:function(t,e,i){var a;(!e.first&&!e.last||e.first&&e.values.linebreakstyle===S.LINEBREAKSTYLE.BEFORE||e.last&&i.linebreakstyle===S.LINEBREAKSTYLE.AFTER)&&(a=this.toSVG(this.SVGdata.HW,this.SVGdata.D),(e.first||e.nextIsFirst)&&(a.x=0),e.last&&a.X&&(a.X=0),t.Add(a,t.w,0,!0)),e.first&&a&&0===a.w?e.nextIsFirst=!0:delete e.nextIsFirst}}),S.mfenced.Augment({SVGbetterBreak:function(t,e){var i,a,n,s=t.index.slice(0),l=t.index.shift(),h=this.data.length,d=0<t.index.length,r=!1;if(null==l&&(l=-1),d||(l++,t.W+=t.w,t.w=0),n=t.scanW=t.W,t.nest++,!this.dataI){this.dataI=[],this.data.open&&this.dataI.push("open"),h&&this.dataI.push(0);for(var S=1;S<h;S++)this.data["sep"+S]&&this.dataI.push("sep"+S),this.dataI.push(S);this.data.close&&this.dataI.push("close")}for(h=this.dataI.length;l<h&&(t.scanW<f.maxwidth*c.linebreakWidth||0===t.w);){var o=this.dataI[l];if(this.data[o]){if(this.data[o].SVGbetterBreak(t,e)&&(r=!0,s=[l].concat(t.index),i=t.W,a=t.w,t.penalty===f.newline))return t.index=s,t.nest&&t.nest--,!0;n=d?t.scanW:this.SVGaddWidth(l,t,n)}l++,d=!(t.index=[])}return t.nest&&t.nest--,t.index=s,r&&(t.W=i,t.w=a),r},SVGmoveLine:function(t,e,i,a,n){var s=t[0],l=e[0];if((s=null==s?-1:s)===(l=null==l?this.dataI.length-1:l)&&1<t.length)this.data[this.dataI[s]].SVGmoveSlice(t.slice(1),e.slice(1),i,a,n,"paddingLeft");else{for(var h=a.last,d=(a.last=!1,this.dataI[s]);s<l;)this.data[d]&&(t.length<=1?this.data[d].SVGmove(i,a,n):this.data[d].SVGmoveSlice(t.slice(1),[],i,a,n,"paddingLeft")),d=this.dataI[++s],a.first=!1,t=[];a.last=h,this.data[d]&&(e.length<=1?this.data[d].SVGmove(i,a,n):this.data[d].SVGmoveSlice([],e.slice(1),i,a,n,"paddingRight"))}}}),S.msubsup.Augment({SVGbetterBreak:function(t,e){if(!this.data[this.base])return!1;var i,a,n,s=t.index.slice(0),l=t.index.shift(),h=0<t.index.length,d=!1;return h||(t.W+=t.w,t.w=0),n=t.scanW=t.W,null==l&&(this.SVGdata.dw=this.SVGdata.w-this.data[this.base].SVGdata.w),this.data[this.base].SVGbetterBreak(t,e)&&(d=!0,s=[this.base].concat(t.index),i=t.W,a=t.w,t.penalty===f.newline&&(d=h=!0)),h||this.SVGaddWidth(this.base,t,n),t.scanW+=this.SVGdata.dw,t.W=t.scanW,t.index=[],d&&(t.W=i,t.w=a,t.index=s),d},SVGmoveLine:function(t,e,i,a,n){var s;this.data[this.base]&&(1<t.length?this.data[this.base].SVGmoveSlice(t.slice(1),e.slice(1),i,a,n,"paddingLeft"):e.length<=1?this.data[this.base].SVGmove(i,a,n):this.data[this.base].SVGmoveSlice([],e.slice(1),i,a,n,"paddingRight")),0===e.length&&(t=this.data[this.sup],a=this.data[this.sub],n=i.w,t&&(s=t.SVGdata||{},i.Add(t.toSVG(),n+(s.dx||0),s.dy)),a&&(s=a.SVGdata||{},i.Add(a.toSVG(),n+(s.dx||0),s.dy)))}}),S.mmultiscripts.Augment({SVGbetterBreak:function(t,e){if(!this.data[this.base])return!1;var i=t.index.slice(0);t.index.shift();var a,n,s,l=0<t.index.length,h=!1,d=(l||(t.W+=t.w,t.w=0),t.scanW=t.W,this.SVGdata.w-this.data[this.base].SVGdata.w-this.SVGdata.dx);return t.scanW+=this.SVGdata.dx,s=t.scanW,this.data[this.base].SVGbetterBreak(t,e)&&(h=!0,i=[this.base].concat(t.index),a=t.W,n=t.w,t.penalty===f.newline&&(h=l=!0)),l||this.SVGaddWidth(this.base,t,s),t.scanW+=d,t.W=t.scanW,t.index=[],h&&(t.W=a,t.w=n,t.index=i),h},SVGmoveLine:function(t,e,i,a,n){var s,l,h,d=this.SVGdata;t.length<1&&(this.scriptBox=this.SVGgetScripts(this.SVGdata.s),h=this.scriptBox[2],l=this.scriptBox[3],s=i.w+d.dx,l&&i.Add(l,s+d.delta-l.w,d.u),h&&i.Add(h,s-h.w,-d.v)),this.data[this.base]&&(1<t.length?this.data[this.base].SVGmoveSlice(t.slice(1),e.slice(1),i,a,n,"paddingLeft"):e.length<=1?this.data[this.base].SVGmove(i,a,n):this.data[this.base].SVGmoveSlice([],e.slice(1),i,a,n,"paddingRight")),0===e.length&&(l=this.scriptBox[0],h=this.scriptBox[1],s=i.w+d.s,h&&i.Add(h,s,d.u),l&&i.Add(l,s-d.delta,-d.v),delete this.scriptBox)}}),S.mo.Augment({SVGbetterBreak:function(t,e){if(t.values&&t.values.last===this)return!1;var i=this.getValues("linebreak","linebreakstyle","lineleading","linebreakmultchar","indentalign","indentshift","indentalignfirst","indentshiftfirst","indentalignlast","indentshiftlast","texClass","fence"),a=(i.linebreakstyle===S.LINEBREAKSTYLE.INFIXLINEBREAKSTYLE&&(i.linebreakstyle=this.Get("infixlinebreakstyle")),i.texClass===S.TEXCLASS.OPEN&&t.nest++,i.texClass===S.TEXCLASS.CLOSE&&t.nest&&t.nest--,t.scanW),n=t.embellished,n=(delete t.embellished,(n=n&&n.SVGdata?n:this).SVGdata),n=n.w+n.x;if(i.linebreakstyle===S.LINEBREAKSTYLE.AFTER&&(a+=n,n=0),a-t.shift==0&&i.linebreak!==S.LINEBREAK.NEWLINE)return!1;var s=c.linebreakWidth-a,l=(0!==e.n||i.indentshiftfirst===e.VALUES.indentshiftfirst&&i.indentalignfirst===e.VALUES.indentalignfirst||(l=this.SVGgetAlign(e,i),l=this.SVGgetShift(e,i,l),s+=t.shift-l),Math.floor(s/c.linebreakWidth*1e3)),h=(l<0&&(l=f.toobig-3*l),i.fence&&(l+=f.fence),(i.linebreakstyle===S.LINEBREAKSTYLE.AFTER&&i.texClass===S.TEXCLASS.OPEN||i.texClass===S.TEXCLASS.CLOSE)&&(l+=f.close),l+=t.nest*f.nestfactor,f[i.linebreak||S.LINEBREAK.AUTO]||0);return MathJax.Object.isArray(h)?l=Math.max(1,l+h[0]*t.nest):(h||0<=s)&&(l=h*t.nest),!(l>=t.penalty)&&(t.penalty=l,t.values=i,t.W=a,t.w=n,i.lineleading=c.length2em(i.lineleading,1,e.VALUES.lineleading),i.last=this,!0)}}),S.mspace.Augment({SVGbetterBreak:function(t,e){if(t.values&&t.values.last===this)return!1;var i=this.getValues("linebreak"),a=i.linebreak,n=(a&&!this.hasDimAttr()||(a=S.LINEBREAK.AUTO),t.scanW),s=this.SVGdata,s=s.w+s.x;if(n-t.shift==0)return!1;var l=c.linebreakWidth-n,h=Math.floor(l/c.linebreakWidth*1e3),d=(h<0&&(h=f.toobig-3*h),h+=t.nest*f.nestfactor,f[a]||0);return a===S.LINEBREAK.AUTO&&1e3*f.spacelimit<=s&&!this.mathbackground&&!this.backrgound&&(d=[(s/1e3+f.spaceoffset)*f.spacefactor]),MathJax.Object.isArray(d)?h=Math.max(1,h+d[0]*t.nest):(d||0<=l)&&(h=d*t.nest),!(h>=t.penalty)&&(t.penalty=h,t.values=i,t.W=n,t.w=s,i.lineleading=e.VALUES.lineleading,i.linebreakstyle="before",i.last=this,!0)}}),MathJax.Hub.Register.StartupHook("TeX mathchoice Ready",function(){S.TeXmathchoice.Augment({SVGbetterBreak:function(t,e){return this.Core().SVGbetterBreak(t,e)},SVGmoveLine:function(t,e,i,a,n){return this.Core().SVGmoveSlice(t,e,i,a,n)}})}),S.maction.Augment({SVGbetterBreak:function(t,e){return this.Core().SVGbetterBreak(t,e)},SVGmoveLine:function(t,e,i,a,n){return this.Core().SVGmoveSlice(t,e,i,a,n)}}),S.semantics.Augment({SVGbetterBreak:function(t,e){return!!this.data[0]&&this.data[0].SVGbetterBreak(t,e)},SVGmoveLine:function(t,e,i,a,n){return this.data[0]?this.data[0].SVGmoveSlice(t,e,i,a,n):null}}),MathJax.Hub.Startup.signal.Post("SVG multiline Ready"),MathJax.Ajax.loadComplete(c.autoloadDir+"/multiline.js")});