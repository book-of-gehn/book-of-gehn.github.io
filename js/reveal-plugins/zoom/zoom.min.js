!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).RevealZoom=t()}(this,function(){"use strict";const e={id:"zoom",init:function(n){n.getRevealElement().addEventListener("mousedown",function(e){var t=/Linux/.test(window.navigator.platform)?"ctrl":"alt",t=(n.getConfig().zoomKey?n.getConfig().zoomKey:t)+"Key",o=n.getConfig().zoomLevel?n.getConfig().zoomLevel:2;e[t]&&!n.isOverview()&&(e.preventDefault(),c.to({x:e.clientX,y:e.clientY,scale:o,pan:!1}))})},destroy:()=>{c.reset()}};i=n=0,l=o=-(d=1),(s="transform"in document.body.style)&&(document.body.style.transition="transform 0.8s ease"),document.addEventListener("keyup",function(e){1!==d&&27===e.keyCode&&c.out()}),document.addEventListener("mousemove",function(e){1!==d&&(n=e.clientX,i=e.clientY)});var d,n,i,o,l,s,c={to:function(e){var t;1!==d?c.out():(e.x=e.x||0,e.y=e.y||0,e.element&&(t=e.element.getBoundingClientRect(),e.x=t.left-20,e.y=t.top-20,e.width=t.width+40,e.height=t.height+40),void 0!==e.width&&void 0!==e.height&&(e.scale=Math.max(Math.min(window.innerWidth/e.width,window.innerHeight/e.height),1)),1<e.scale&&(e.x*=e.scale,e.y*=e.scale,r(e,e.scale),!1!==e.pan)&&(o=setTimeout(function(){l=setInterval(u,1e3/60)},800)))},out:function(){clearTimeout(o),clearInterval(l),r({x:0,y:0},1),d=1},magnify:function(e){this.to(e)},reset:function(){this.out()},zoomLevel:function(){return d}};function r(e,t){var o,n,i=y();e.width=e.width||1,e.height=e.height||1,e.x-=(window.innerWidth-e.width*t)/2,e.y-=(window.innerHeight-e.height*t)/2,s?1===t?document.body.style.transform="":(o=i.x+"px "+i.y+"px",n="translate("+-e.x+"px,"+-e.y+"px) scale("+t+")",document.body.style.transformOrigin=o,document.body.style.transform=n):1===t?(document.body.style.position="",document.body.style.left="",document.body.style.top="",document.body.style.width="",document.body.style.height="",document.body.style.zoom=""):(document.body.style.position="relative",document.body.style.left=-(i.x+e.x)/t+"px",document.body.style.top=-(i.y+e.y)/t+"px",document.body.style.width=100*t+"%",document.body.style.height=100*t+"%",document.body.style.zoom=t),d=t,document.documentElement.classList&&(1!==d?document.documentElement.classList.add("zoomed"):document.documentElement.classList.remove("zoomed"))}function u(){var e=.12*window.innerWidth,t=.12*window.innerHeight,o=y();i<t?window.scroll(o.x,o.y-14/d*(1-i/t)):i>window.innerHeight-t&&window.scroll(o.x,o.y+(1-(window.innerHeight-i)/t)*(14/d)),n<e?window.scroll(o.x-14/d*(1-n/e),o.y):n>window.innerWidth-e&&window.scroll(o.x+(1-(window.innerWidth-n)/e)*(14/d),o.y)}function y(){return{x:void 0!==window.scrollX?window.scrollX:window.pageXOffset,y:void 0!==window.scrollY?window.scrollY:window.pageYOffset}}return()=>e});